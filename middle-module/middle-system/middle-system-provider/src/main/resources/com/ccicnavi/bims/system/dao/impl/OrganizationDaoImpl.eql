-- [listOrganization]
SELECT
    organization_uuid organizationUuid,
    org_parent_uuid orgParentUuid,
    org_all_parent_uuid orgAllParentUuid,
    org_name orgName,
    org_short_name orgShortName,
    org_code orgCode,
    top_org_uuid topOrgUuid,
    org_tel orgTel,
    org_tel_ext orgTelExt,
    org_fax orgFax,
    org_url orgUrl,
    org_addr orgAddr,
    is_enabled isEnabled,
    sort_num sortNum,
    is_virtual isVirtual,
    comments comments,
    is_deleted isDeleted,
    created_time createdTime,
    created_uuid createdUuid,
    created_name createdName,
    updated_time updatedTime,
    updated_uuid updatedUuid,
    updated_name updatedName,
    prod_catalog_uuid prodCatalogUuid,
    org_uuid orgUuid,
    app_sys_uuid appSysUuid,
    extend1 extend1,
    extend2 extend2,
    extend3	extend3
from
    sys_organization
where
    is_deleted = 'N'


-- [getOrganization]
SELECT
    organization_uuid organizationUuid,
    org_parent_uuid orgParentUuid,
    org_all_parent_uuid orgAllParentUuid,
    org_name orgName,
    org_short_name orgShortName,
    org_code orgCode,
    top_org_uuid topOrgUuid,
    org_tel orgTel,
    org_tel_ext orgTelExt,
    org_fax orgFax,
    org_url orgUrl,
    org_addr orgAddr,
    is_enabled isEnabled,
    sort_num sortNum,
    is_virtual isVirtual,
    comments comments,
    is_deleted isDeleted,
    created_time createdTime,
    created_uuid createdUuid,
    created_name createdName,
    updated_time updatedTime,
    updated_uuid updatedUuid,
    updated_name updatedName,
    prod_catalog_uuid prodCatalogUuid,
    org_uuid orgUuid,
    app_sys_uuid appSysUuid,
    extend1 extend1,
    extend2 extend2,
    extend3	extend3
from
    sys_organization
where
    is_deleted = 'N'
--iff organizationUuid != null and organizationUuid != ''
    and organization_uuid = '#organizationUuid#'

-- [insertOrganization]
    insert into sys_organization
    -- trim prefix=( suffix=) suffixOverrides=,
      --iff organizationUuid != null
        organization_uuid,
      --iff orgParentUuid != null
        org_parent_uuid,
      --iff orgAllParentUuid != null
        org_all_parent_uuid,
      --iff orgName != null
        org_name,
      --iff orgShortName != null
        org_short_name,
      --iff orgCode != null
        org_code,
      --iff topOrgUuid != null
        top_org_uuid,
      --iff orgTel != null
        org_tel,
      --iff orgTelExt != null
        org_tel_ext,
      --iff orgFax != null
        org_fax,
      --iff orgUrl != null
        org_url,
      --iff orgAddr != null
        org_addr,
      --iff isEnabled != null
        is_enabled,
      --iff sortNum != null
        sort_num,
      --iff isVirtual != null
        is_virtual,
      --iff comments != null
        comments,
      --iff isDeleted != null
        is_deleted,
      --iff createdTime != null
        created_time,
      --iff createdUuid != null
        created_uuid,
      --iff createdName != null
        created_name,
      --iff updatedTime != null
        updated_time,
      --iff updatedUuid != null
        updated_uuid,
      --iff updatedName != null
        updated_name,
      --iff prodCatalogUuid != null
        prod_catalog_uuid,
      --iff orgUuid != null
        org_uuid,
      --iff appSysUuid != null
        app_sys_uuid,
      --iff extend1 != null
        extend1,
      --iff extend2 != null
        extend2,
      --iff extend3 != null
        extend3
    --end
    -- trim prefix=values( suffix=) suffixOverrides=,
      --iff organizationUuid != null
        '#organizationUuid#',
      --iff orgParentUuid != null
        '#orgParentUuid#',
      --iff orgAllParentUuid != null
        '#orgAllParentUuid#',
      --iff orgName != null
        '#orgName#',
      --iff orgShortName != null
        '#orgShortName#',
      --iff orgCode != null
        '#orgCode#',
      --iff topOrgUuid != null
        '#topOrgUuid#',
      --iff orgTel != null
        '#orgTel#',
      --iff orgTelExt != null
        '#orgTelExt#',
      --iff orgFax != null
        '#orgFax#',
      --iff orgUrl != null
        '#orgUrl#',
      --iff orgAddr != null
        '#orgAddr#',
      --iff isEnabled != null
        '#isEnabled#',
      --iff sortNum != null
        '#sortNum#',
      --iff isVirtual != null
        '#isVirtual#',
      --iff comments != null
        '#comments#',
      --iff isDeleted != null
        '#isDeleted#',
      --iff createdTime != null
        '#createdTime#',
      --iff createdUuid != null
        '#createdUuid#',
      --iff createdName != null
        '#createdName#',
      --iff updatedTime != null
        '#updatedTime#',
      --iff updatedUuid != null
        '#updatedUuid#',
      --iff updatedName != null
        '#updatedName#',
      --iff prod_catalog_uuid != null
              '#prod_catalog_uuid#',
      --iff orgUuid != null
        '#orgUuid#',
      --iff appSysUuid != null
        '#appSysUuid#',

      --iff extend1 != null
        '#extend1#',
      --iff extend2 != null
        '#extend2#',
      --iff extend3 != null
        '#extend3#'
    --end

-- [updateOrganization]
update sys_organization
-- trim prefix= set suffixOverrides=,
  --iff organizationUuid != null
    organization_uuid = '#organizationUuid#',
  --iff orgParentUuid != null
    org_parent_uuid = '#orgParentUuid#',
  --iff orgName != null
    org_name = '#orgName#',
  --iff orgShortName != null
    org_short_name = '#orgShortName#',
  --iff orgCode != null
    org_code = '#orgCode#',
  --iff orgType != null
    org_type = '#orgType#',
  --iff orgTel != null
    org_tel = '#orgTel#',
  --iff orgTelExt != null
    org_tel_ext = '#orgTelExt#',
  --iff orgFax != null
    org_fax = '#orgFax#',
  --iff orgUrl != null
    org_url = '#orgUrl#',
  --iff orgAddr != null
    org_addr = '#orgAddr#',
  --iff isEnabled != null
    is_enabled = '#isEnabled#',
  --iff sortNum != null
    sort_num = '#sortNum#',
  --iff comments != null
    comments = '#comments#',
  --iff isDeleted != null
    is_deleted = '#isDeleted#',
  --iff createdTime != null
    created_time = '#createdTime#',
  --iff createdUuid != null
    created_uuid = '#createdUuid#',
  --iff createdName != null
    created_name = '#createdName#',
  --iff updatedTime != null
    updated_time = '#updatedTime#',
  --iff updatedName != null
    updated_name = '#updatedName#',
  --iff orgUuid != null
    org_uuid = '#orgUuid#',
  --iff appSysUuid != null
    app_sys_uuid = '#appSysUuid#',
  --iff businessLine != null
    business_line = '#businessLine#',
  --iff extend1 != null
    extend1 = '#extend1#',
  --iff extend2 != null
    extend2 = '#extend2#',
  --iff extend3 != null
    extend3 = '#extend3#'
-- end
where
is_deleted = 'N'
--iff organizationUuid != null and organizationUuid != ''
    and organization_uuid = '#organizationUuid#'
--iff uuids != null
    and organization_uuid in
    -- for item=item index=index collection=uuids open=( separator=, close=)
        '#item#'
-- end

-- [deleteOrganization]
UPDATE
    sys_organization
-- trim prefix= set suffixOverrides=,
    is_deleted = 'Y'
-- end
WHERE
    is_deleted = 'N'
    --iff organizationUuid != null and organizationUuid != ''
        and organization_uuid = '#organizationUuid#'
    --iff uuids != null
        and organization_uuid in
        -- for item=item index=index collection=uuids open=( separator=, close=)
            '#item#'
    -- end

--根据用户查询省公司
 -- [getOrgByUser]
SELECT
    organization_uuid organizationUuid,
    org_parent_uuid orgParentUuid,
    org_all_parent_uuid orgAllParentUuid,
    org_name orgName,
    org_short_name orgShortName,
    org_code orgCode,
    top_org_uuid topOrgUuid,
    org_tel orgTel,
    org_tel_ext orgTelExt,
    org_fax orgFax,
    org_url orgUrl,
    org_addr orgAddr,
    is_enabled isEnabled,
    sort_num sortNum,
    is_virtual isVirtual,
    comments comments,
    is_deleted isDeleted,
    created_time createdTime,
    created_uuid createdUuid,
    created_name createdName,
    updated_time updatedTime,
    updated_uuid updatedUuid,
    updated_name updatedName,
    prod_catalog_uuid prodCatalogUuid,
    org_uuid orgUuid,
    app_sys_uuid appSysUuid,
    extend1 extend1,
    extend2 extend2,
    extend3	extend3
from
    sys_organization
where
    is_deleted = 'N'
    --iff orgUuid != null and orgUuid != ''
        and org_uuid = '#orgUuid#'

--根据当前用户的orgUuid获取所有的当前机构和子机构
-- [listOrgByOrg]
SELECT
    organization_uuid organizationUuid,
    org_parent_uuid orgParentUuid,
    org_all_parent_uuid orgAllParentUuid,
    org_name orgName,
    org_short_name orgShortName,
    org_code orgCode,
    top_org_uuid topOrgUuid,
    org_tel orgTel,
    org_tel_ext orgTelExt,
    org_fax orgFax,
    org_url orgUrl,
    org_addr orgAddr,
    is_enabled isEnabled,
    sort_num sortNum,
    is_virtual isVirtual,
    comments comments,
    is_deleted isDeleted,
    created_time createdTime,
    created_uuid createdUuid,
    created_name createdName,
    updated_time updatedTime,
    updated_uuid updatedUuid,
    updated_name updatedName,
    prod_catalog_uuid prodCatalogUuid,
    org_uuid orgUuid,
    app_sys_uuid appSysUuid,
    extend1 extend1,
    extend2 extend2,
    extend3	extend3
from
    sys_organization
where
    is_deleted = 'N'
    --iff orgUuid != null
        and org_uuid = '#orgUuid#'
    --iff orgParentUuid != null
        and org_parent_uuid = '#orgParentUuid#'

